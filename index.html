<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>psy+code</title>
    <script src="js/jquery.js" charset="utf-8"></script>
    <script src="js/jquery-ui.min.js" charset="utf-8"></script>
    <script src="js/jquery.min.js" charset="utf-8"></script>
    <link rel="stylesheet" href="css/style.css">
  </head>
  <body>

    <canvas id="xp"></canvas>

    <div class="desktop">
      <div class="computer">
      <img src="https://i.ibb.co/g41HDFY/computer1.png" width="60px" alt="" />
      <p>О клинике</p>
    </div>

    <div class="bin">
      <img src="https://i.ibb.co/QrQpXjD/bin1.png" width="60px" alt="" />
      <p>Записаться</p>
    </div>

    <div class="documents">
      <img src="https://i.ibb.co/LSPMbkx/documents1.png" width="60px" alt="" />
      <p>Лечение</p>
    </div>
    </div>

    <div class="start">
      <a class="start-btn" href="#0">Пуск</a>
      <div class="start-menu">
      <div class="title-container">
        <div class="title">PSY+CODE</div>
      </div>
      <ul>
        <hr />
        <li class="computer">О клинике</li>
        <li class="bin">Записаться</li>
        <li class="documents">Лечение</li>
        <hr />
        <li class="log-off ok">Выйти из системы</li>
        <li class="shut-down ok">Выход</li>
      </ul>
    </div>
    </div>





    <script type="text/javascript">
      var c = document.getElementById('xp');
      var ctx = c.getContext('2d');

      var w, h, Mouse, Box;

      function init() {
      c.width = w = window.innerWidth;
      c.height = h = window.innerHeight;

      ctx.imageSmoothingEnabled= false;

      Box = {
        x: 0,
        y: 0,
        w: 0,
        h: 0,
        img: new Image(),
        draw: function () {
          this.x += Mouse.x - Mouse._x;
          this.y += Mouse.y - Mouse._y;
          ctx.drawImage(this.img, this.x, this.y, this.w, this.h);
        }
      };


      Mouse = {
        x: w/2,
        y: h/2,
        _x: 0,
        _y: 0,
        drag: false,
        down: false,
        updatePos: function (x, y) {
          this._x = this.x;
          this._y = this.y;
          this.x = x;
          this.y = y;
        },
        updateDown: function (state) {
          this.down = state;
        },
        updateDrag: function () {
          if (this.down
             && this.x > Box.x
             && this.x < Box.x + Box.w
             && this.y > Box.y
             && this.y < Box.y + Box.h) {
            this.drag = true;
          } else {
            this.drag = false;
          }
        }
      };


      Box.img.src = 'https://i.ibb.co/1bXBTfk/error.png';
      Box.img.onload = function () {

        Box.w = Box.img.width;
        Box.h = Box.img.height;
        Mouse.x = w/2 - Box.w/2;
        Mouse.y = h/2 - Box.h/2;
        Box.draw();

        c.addEventListener('mousedown', function (ev) {
          Mouse.updatePos(ev.clientX, ev.clientY);
          Mouse.updateDown(true);
          Mouse.updateDrag();
        });
        c.addEventListener('mousemove', function (ev) {
          Mouse.updatePos(ev.clientX, ev.clientY);
          if (Mouse.drag) Box.draw();
        });
        c.addEventListener('mouseup', function (ev) {
          Mouse.updateDown(false);
          Mouse.updateDrag();
        });

        c.addEventListener('touchstart', function(ev) {
          ev.preventDefault();
          Mouse.updatePos(ev.changedTouches[0].clientX, ev.changedTouches[0].clientY);
          Mouse.updateDown(true);
          Mouse.updateDrag();
        });
        c.addEventListener('touchmove', function(ev) {
          ev.preventDefault();
          Mouse.updatePos(ev.changedTouches[0].clientX, ev.changedTouches[0].clientY);
          if (Mouse.drag) Box.draw();
        });
        c.addEventListener('touchend', function(ev) {
          ev.preventDefault();
          Mouse.updateDown(false);
          Mouse.updateDrag();
        });
      };
      }


      init();

      window.addEventListener('resize', init);


    $('.start-btn').on('click', function(e){
     e.preventDefault();
    $(this).toggleClass('active');
    $('.start-menu').toggleClass('open');
    });

    </script>
</body>
</html>
